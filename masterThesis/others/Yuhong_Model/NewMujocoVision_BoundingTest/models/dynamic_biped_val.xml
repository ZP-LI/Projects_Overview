<mujoco>

    <include file="basic_scene.xml" />
    <include file="left_leg_stl_assets.xml"/>
    <include file="right_leg_stl_assets.xml"/>
    <include file="tail_assets/tail_stl_assets.xml"/>

    <asset>
        <mesh name="head" file="stl-meshes/head_main.stl" scale="0.001 0.001 0.001"/>
        <mesh name="head_mounting" file="stl-meshes/head_bracket.stl" scale="0.001 0.001 0.001"/>
        <mesh name="main_body" file="stl-meshes/main_chest.stl" scale="0.001 0.001 0.001"/>
        <mesh name="spine_t1" file="stl-meshes/spine_t1.stl" scale="0.001 0.001 0.001"/>
        <mesh name="spine_t2" file="stl-meshes/spine_t2_zeroed.stl" scale="0.001 0.001 0.001"/>
        <mesh name="spine_t3" file="stl-meshes/spine_t3_zeroed.stl" scale="0.001 0.001 0.001"/>
        <mesh name="spine_t4" file="stl-meshes/spine_t4_zeroed.stl" scale="0.001 0.001 0.001"/>
        <mesh name="hip" file="stl-meshes/hip_zeroed.stl" scale="0.001 0.001 0.001"/>
        <mesh name="reel_sm" file="stl-meshes/reel_small.stl" scale="0.001 0.001 0.001"/>
        <mesh name="tail" file="stl-meshes/Tail_Unit.stl" scale="0.001 0.001 0.001"/>
    </asset>

    <worldbody>
        <light diffuse=".5 .5 .5" pos="0 -1.0 3" dir="0 0 -1"/>

        <body name="world_coordinate" pos="0 0 0">  
            <geom type="plane" size="0 0 0.03" material="matplane" rgba="1 1 1 1"/>
        </body>

        <camera name="body_cam" mode="fixed" pos="20 0.1 0.05" euler="90 90 0" fovy="1"/>
        <camera name="top camera" mode="fixed" pos="0 -1 30" euler="0 0 180" fovy="6"/>

        <body name="mouse" pos="0 0 0.042">
            <!-- <joint name="rail" type="free"/> -->
            <joint name="joint_body_test" type="slide" pos="0 0 0" axis="0 0 1"  armature="0.0065"/>

            <camera name="tail view camera" mode="track" pos="0 0.35 0.15" euler="110 180 0" fovy="60"/>
            <camera name="body_cam_follow" mode="trackcom" pos="0.35 0.1 0.02" euler="90 90 0" fovy="40"/>

            <geom name="mouse_body" mass="0.15" type="box" pos="0 0 0" size="0.0115 0.024 0.025" rgba="0.8 0.8 0.8 1"/>

            <!-- <geom name="support_leg_front" mass="0" type="box" pos="0 -0.024 -0.027" size="0.002 0.004 0.014" rgba="0.8 0.8 0.8 1"/>
            <geom name="support_leg_rear" mass="0" type="box" pos="0 0.024 -0.027" size="0.002 0.004 0.014" rgba="0.8 0.8 0.8 1"/> -->

            <!-- Here we define the front left leg -->
            <body name="fl" pos="0.0115 -0.018047 0">
                <include file="leg_fl_assets/fl_asset_exp_biped.xml"/>
            </body>

            <!-- Here wer define the front right leg -->
            <body name="fr" pos="-0.0115 -0.018047 0">
                <include file="leg_fr_assets/fr_asset_exp_biped.xml"/>
            </body>

        </body>

    </worldbody>

    <equality>
        <connect anchor="0 0 0" body1="thigh_up_link_1_fl" body2="thigh_up_link_2_fl" solimp="1 1 0.001" solref="0.002 1"/>
        <connect anchor="0 0 0" body1="thigh_up_link_1_fr" body2="thigh_up_link_2_fr" solimp="1 1 0.001" solref="0.002 1"/>
    </equality>

    <contact>
        <exclude body1="main_leg_fl" body2="servo_horn_fl"/>
        <exclude body1="main_leg_fr" body2="servo_horn_fr"/>
    </contact>

    <!-- The tendon models for each leg -->
    <include file="leg_fl_assets/fl_tendon.xml"/>
    <include file="leg_fr_assets/fr_tendon.xml"/>

    <include file="leg_fl_assets/fl_sensor_actuator.xml"/>
    <include file="leg_fr_assets/fr_sensor_actuator.xml"/>
    <!-- <include file="leg_fl_assets/fl_sensor_actuator_motor.xml"/>
    <include file="leg_fr_assets/fr_sensor_actuator_motor.xml"/> -->

    <sensor>
        <touch name="fl_touch" site="touch_fl"/>
        <touch name="fr_touch" site="touch_fr"/>
    </sensor>

</mujoco>